{"ast":null,"code":"import _slicedToArray from\"E:/Web_development/Projects/youtube_clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Link,useParams}from\"react-router-dom\";import ReactPlayer from\"react-player\";import{Typography,Box,Stack}from\"@mui/material\";import CheckCircleIcon from\"@mui/icons-material/CheckCircle\";import{Videos,Loader}from\"./\";import{fetchFromAPI}from\"../utils/fetchFromAPI\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VideoDetail=function VideoDetail(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),videoDetail=_useState2[0],setVideoDetail=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),videos=_useState4[0],setVideos=_useState4[1];var _useParams=useParams(),id=_useParams.id;useEffect(function(){fetchFromAPI(\"videos?part=snippet,statistics&id=\".concat(id)).then(function(data){return setVideoDetail(data.items[0]);});fetchFromAPI(\"search?part=snippet&relatedToVideoId=\".concat(id,\"&type=video\")).then(function(data){return setVideos(data.items);});},[id]);if(!(videoDetail!==null&&videoDetail!==void 0&&videoDetail.snippet))return/*#__PURE__*/_jsx(Loader,{});var _videoDetail$snippet=videoDetail.snippet,title=_videoDetail$snippet.title,channelId=_videoDetail$snippet.channelId,channelTitle=_videoDetail$snippet.channelTitle,_videoDetail$statisti=videoDetail.statistics,viewCount=_videoDetail$statisti.viewCount,likeCount=_videoDetail$statisti.likeCount;return/*#__PURE__*/_jsx(Box,{minHeight:\"95vh\",children:/*#__PURE__*/_jsxs(Stack,{direction:{xs:\"column\",md:\"row\"},children:[/*#__PURE__*/_jsx(Box,{flex:1,children:/*#__PURE__*/_jsxs(Box,{sx:{width:\"100%\",position:\"sticky\",top:\"86px\"},children:[/*#__PURE__*/_jsx(ReactPlayer,{url:\"https://www.youtube.com/watch?v=\".concat(id),className:\"react-player\",controls:true}),/*#__PURE__*/_jsx(Typography,{color:\"#fff\",variant:\"h5\",fontWeight:\"bold\",p:2,children:title}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"space-between\",sx:{color:\"#fff\"},py:1,px:2,children:[/*#__PURE__*/_jsx(Link,{to:\"/channel/\".concat(channelId),children:/*#__PURE__*/_jsxs(Typography,{variant:{sm:\"subtitle1\",md:'h6'},color:\"#fff\",children:[channelTitle,/*#__PURE__*/_jsx(CheckCircleIcon,{sx:{fontSize:\"12px\",color:\"gray\",ml:\"5px\"}})]})}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",gap:\"20px\",alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{opacity:0.7},children:[parseInt(viewCount).toLocaleString(),\" views\"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body1\",sx:{opacity:0.7},children:[parseInt(likeCount).toLocaleString(),\" likes\"]})]})]})]})}),/*#__PURE__*/_jsx(Box,{px:2,py:{md:1,xs:5},justifyContent:\"center\",alignItems:\"center\",children:/*#__PURE__*/_jsx(Videos,{videos:videos,direction:\"column\"})})]})});};export default VideoDetail;","map":{"version":3,"names":["React","useEffect","useState","Link","useParams","ReactPlayer","Typography","Box","Stack","CheckCircleIcon","Videos","Loader","fetchFromAPI","VideoDetail","videoDetail","setVideoDetail","videos","setVideos","id","then","data","items","snippet","title","channelId","channelTitle","statistics","viewCount","likeCount","xs","md","width","position","top","color","sm","fontSize","ml","opacity","parseInt","toLocaleString"],"sources":["E:/Web_development/Projects/youtube_clone/src/components/VideoDetail.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport ReactPlayer from \"react-player\";\r\nimport { Typography, Box, Stack } from \"@mui/material\";\r\nimport CheckCircleIcon from \"@mui/icons-material/CheckCircle\";\r\n\r\nimport { Videos, Loader } from \"./\";\r\nimport { fetchFromAPI } from \"../utils/fetchFromAPI\";\r\n\r\nconst VideoDetail = () => {\r\n  const [videoDetail, setVideoDetail] = useState(null);\r\n  const [videos, setVideos] = useState(null);\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    fetchFromAPI(`videos?part=snippet,statistics&id=${id}`)\r\n      .then((data) => setVideoDetail(data.items[0]))\r\n\r\n    fetchFromAPI(`search?part=snippet&relatedToVideoId=${id}&type=video`)\r\n      .then((data) => setVideos(data.items))\r\n  }, [id]);\r\n\r\n  if(!videoDetail?.snippet) return <Loader />;\r\n\r\n  const { snippet: { title, channelId, channelTitle }, statistics: { viewCount, likeCount } } = videoDetail;\r\n\r\n  return (\r\n    <Box minHeight=\"95vh\">\r\n      <Stack direction={{ xs: \"column\", md: \"row\" }}>\r\n        <Box flex={1}>\r\n          <Box sx={{ width: \"100%\", position: \"sticky\", top: \"86px\" }}>\r\n            <ReactPlayer url={`https://www.youtube.com/watch?v=${id}`} className=\"react-player\" controls />\r\n            <Typography color=\"#fff\" variant=\"h5\" fontWeight=\"bold\" p={2}>\r\n              {title}\r\n            </Typography>\r\n            <Stack direction=\"row\" justifyContent=\"space-between\" sx={{ color: \"#fff\" }} py={1} px={2} >\r\n              <Link to={`/channel/${channelId}`}>\r\n                <Typography variant={{ sm: \"subtitle1\", md: 'h6' }}  color=\"#fff\" >\r\n                  {channelTitle}\r\n                  <CheckCircleIcon sx={{ fontSize: \"12px\", color: \"gray\", ml: \"5px\" }} />\r\n                </Typography>\r\n              </Link>\r\n              <Stack direction=\"row\" gap=\"20px\" alignItems=\"center\">\r\n                <Typography variant=\"body1\" sx={{ opacity: 0.7 }}>\r\n                  {parseInt(viewCount).toLocaleString()} views\r\n                </Typography>\r\n                <Typography variant=\"body1\" sx={{ opacity: 0.7 }}>\r\n                  {parseInt(likeCount).toLocaleString()} likes\r\n                </Typography>\r\n              </Stack>\r\n            </Stack>\r\n          </Box>\r\n        </Box>\r\n        <Box px={2} py={{ md: 1, xs: 5 }} justifyContent=\"center\" alignItems=\"center\" >\r\n          <Videos videos={videos} direction=\"column\" />\r\n        </Box>\r\n      </Stack>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default VideoDetail;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}